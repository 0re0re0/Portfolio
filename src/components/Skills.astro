---
import SkillsIcon from './icons/SkillsIcon.astro';
import SectionTitle from './section-title/SectionTitle.astro';



const iOSTools = [
  { name: "SwiftUI" }
];

const tools = [];

// Todos los iconos desde el mismo origen: Devicon vía jsDelivr
// Formato: https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/{slug}/{slug}-original.svg
const ICONS: Record<string, string> = {
  Swift: 'swift',
  SwiftUI: 'xcode',     // alternativa para SwiftUI
  Astro: 'astro',
  TypeScript: 'typescript',
  JS: 'javascript',
  NodeJS: 'nodejs',
  MongoDB: 'mongodb',
  GitHub: 'github',
  Figma: 'figma',
  Firebase: 'firebase'
};
const iconUrl = (name: string) => {
  if (name === 'GitHub') {
    return 'https://www.tech-stack-icons.com/icons/github.svg';
  }
  const slug = ICONS[name];
  return `https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${slug}/${slug}-original.svg`;
};
---

<section class="skills wrapper" id="skills">
  <SectionTitle title="Tech Stack">
    <SkillsIcon class="section-icon" />
  </SectionTitle>

  <div class="skills__content">

    <article class="stack-card">
      <div class="stack-card__content ios-summary">
        <div class="ios-summary__item"><strong>Arquitectura:</strong> Clean Architecture · MVVM · Coordinator · SOLID</div>
        <div class="ios-summary__item"><strong>Autenticación:</strong> Okta Verify</div>
        <div class="ios-summary__item"><strong>Persistencia:</strong> SwiftData · CoreData · UserDefaults</div>
        <div class="ios-summary__item"><strong>UI/Reactividad:</strong> SwiftUI · Combine · Async/Await</div>
        <div class="ios-summary__item"><strong>Dependencias</strong> Inyección de dependencias </div>
      </div>
    </article>

    <h3 class="skills__subtitle smoke">Herramientas</h3>
    <div class="skills__ul">
      <img
        src="https://skillicons.dev/icons?i=github,figma,firebase,mongodb,postman"
        style="pointer-events: none;"
        alt="Tools"
        class="skillicons"
        loading="lazy"
        decoding="async"
      />
    </div>
  </div>
</section>

<style>
  .skills {
    padding: 1em;
    margin-bottom: 3rem;

    display: flex;
    flex-direction: column;
    row-gap: 1em;
  }
  .skills__title {
    font-size: clamp(1.7rem, 5vw, 2.5rem);
    font-weight: 700;

    display: flex;
    align-items: center;
    gap: 0.5em;
  }
  .skills__content {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1.5em;
  }
  .skills__subtitle {
    font-size: 1.2em;
    font-weight: 600;
    border-bottom: 1px solid rgba(var(--color), 1); 
    width: fit-content;
  }
  .skills__ul {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5em; 
  }
  .skills__li {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5em;
    text-align: center;
    margin: 0.25em; 
  }
  .skills__icon {
    width: 3rem;
    height: 3rem;
    opacity: 0.95;
  }
  .skills__icon--github {
    color: #ffffff;
  }
  .larger-icon {
    width: 3rem;
    height: 3rem;
  }
  .stack-card {
    padding: 2rem;
    border-radius: 0.4rem;
    background-color: rgba(var(--color-button-muted), 0.5);
    --tw-ring-color: rgba(var(--muted), 1);
    --tw-ring-shadow: 0 0 0 1px var(--tw-ring-color);
    box-shadow: var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
    max-width: 35rem;
    width: 100%;
    align-self: flex-start;
  }
  .stack-card__content {
    display: block;
  }
  .skillicons {
    width: auto;
    height: 48px;
  }
  .ios-summary {
    display: grid;
    gap: 0.5rem;
    font-size: 1.05rem;
    line-height: 1.45;
    padding: 0.5rem 0;
  }
  .ios-summary__item strong {
    color: rgba(var(--color), 1);
    font-weight: 600;
  }
</style>
